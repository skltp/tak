{"$schema":"http://json-schema.org/draft-07/schema#",
  "$id":"https://www.inera.se/tak/jsonbestallning",
  "title":"Schema för TAKen Json Beställning",
  "type":"object",
  "definitions":{
    "tjanstekontrakt":{
      "type":"object",
      "properties":{
        "namnrymd":{
          "type":"string"
        },
        "beskrivning":{
          "type":"string"
        }
      },
      "required":[
        "namnrymd",
        "beskrivning"
      ]
    },
    "logiskadresser":{
      "type":"object",
      "properties":{
        "hsaId":{
          "type":"string"
        },
        "beskrivning":{
          "type":"string"
        }
      },
      "required":[
        "hsaId",
        "beskrivning"
      ]
    },
    "tjanstekomponenter":{
      "type":"object",
      "properties":{
        "hsaId":{
          "type":"string"
        },
        "beskrivning":{
          "type":"string"
        }
      },
      "required":[
        "hsaId",
        "beskrivning"
      ]
    },
    "anropsbehorigheter":{
      "type":"object",
      "properties":{
        "logiskAdress":{
          "type":"string"
        },
        "tjanstekontrakt":{
          "type":"string"
        },
        "tjanstekonsument":{
          "type":"string"
        }
      },
      "required":[
        "logiskAdress",
        "tjanstekontrakt",
        "tjanstekonsument"
      ]
    },
    "vagval":{
      "type":"object",
      "properties":{
        "adress":{
          "type":"string"
        },
        "logiskAdress":{
          "type":"string"
        },
        "tjanstekontrakt":{
          "type":"string"
        },
        "rivtaprofil":{
          "type":"string"
        },
        "tjanstekomponent":{
          "type":"string"
        }
      },
      "required":[
        "adress",
        "logiskAdress",
        "tjanstekontrakt",
        "rivtaprofil",
        "tjanstekomponent"
      ]
    }
  },
  "properties":{
    "plattform":{
      "description":"The identifier for plattform",
      "type":"string",
      "enum":[
        "NTJP-DEV",
        "NTJP-TEST",
        "NTJP-QA",
        "NTJP-PROD"
      ]
    },
    "formatVersion":{
      "type":"integer"
    },
    "version":{
      "type":"integer"
    },
    "utforare":{
      "type":"string"
    },
    "kommentar":{
      "type":"string"
    },
    "bestallningsTidpunkt":{
      "type":"date",
      "title":"bestallnings tidpunkt i format YYYY-MM-DD",
      "examples":[
        "2019-01-11"
      ]
    },
    "genomforandeTidpunkt":{
      "type":"date",
      "title":"genomforande tidpunkt i format YYYY-MM-DD",
      "examples":[
        "2019-01-11"
      ]
    },
    "inkludera":{
      "type":"object",
      "title":"objekt som ska läggas till",
      "properties":{
        "tjanstekontrakt":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/tjanstekontrakt"
          }
        },
        "logiskadresser":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/logiskadresser"
          }
        },
        "tjanstekomponenter":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/tjanstekomponenter"
          }
        },
        "anropsbehorigheter":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/anropsbehorigheter"
          }
        },
        "vagval":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/vagval"
          }
        }
      },
      "required":[
        "tjanstekontrakt",
        "logiskadresser",
        "tjanstekomponenter",
        "anropsbehorigheter",
        "vagval"
      ]
    },
    "exkludera":{
      "type":"object",
      "title":"objekt som ska tas bort",
      "properties":{
        "anropsbehorigheter":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/anropsbehorigheter"
          }
        },
        "vagval":{
          "type":"array",
          "items":{
            "$ref":"#/definitions/vagval"
          }
        }
      },
      "required":[
        "anropsbehorigheter",
        "vagval"
      ]
    }
  },
  "required":[
    "genomforandeTidpunkt",
    "exkludera",
    "inkludera"
  ]
}